#!/usr/bin/env node
"use strict";var wD=Object.defineProperty;var i=(u,e)=>wD(u,"name",{value:e,configurable:!0});var j=require("fs"),$D=require("tty"),wu=require("rollup"),g=require("path"),vD=require("@rollup/plugin-node-resolve"),xD=require("@rollup/plugin-commonjs"),kD=require("@rollup/plugin-json"),OD=require("@rollup/plugin-alias"),$u=require("@rollup/plugin-replace"),jD=require("@rollup/plugin-inject"),TD=require("@rollup/pluginutils"),vu=require("esbuild"),xu=require("module"),ku=require("magic-string");const SD="known-flag",PD="unknown-flag",ND="argument",{stringify:W}=JSON,ID=/\B([A-Z])/g,_D=i(u=>u.replace(ID,"-$1").toLowerCase(),"v$2"),{hasOwnProperty:RD}=Object.prototype,q=i((u,e)=>RD.call(u,e),"w$3"),LD=i(u=>Array.isArray(u),"L$2"),Ou=i(u=>typeof u=="function"?[u,!1]:LD(u)?[u[0],!0]:Ou(u.type),"b$2"),MD=i((u,e)=>u===Boolean?e!=="false":e,"d$3"),UD=i((u,e)=>typeof e=="boolean"?e:u===Number&&e===""?Number.NaN:u(e),"m$2"),WD=/[\s.:=]/,qD=i(u=>{const e=`Flag name ${W(u)}`;if(u.length===0)throw new Error(`${e} cannot be empty`);if(u.length===1)throw new Error(`${e} must be longer than a character`);const t=u.match(WD);if(t)throw new Error(`${e} cannot contain ${W(t?.[0])}`)},"B$1"),zD=i(u=>{const e={},t=i((D,n)=>{if(q(e,D))throw new Error(`Duplicate flags named ${W(D)}`);e[D]=n},"r");for(const D in u){if(!q(u,D))continue;qD(D);const n=u[D],r=[[],...Ou(n),n];t(D,r);const o=_D(D);if(D!==o&&t(o,r),"alias"in n&&typeof n.alias=="string"){const{alias:s}=n,a=`Flag alias ${W(s)} for flag ${W(D)}`;if(s.length===0)throw new Error(`${a} cannot be empty`);if(s.length>1)throw new Error(`${a} must be a single character`);t(s,r)}}return e},"K$2"),VD=i((u,e)=>{const t={};for(const D in u){if(!q(u,D))continue;const[n,,r,o]=e[D];if(n.length===0&&"default"in o){let{default:s}=o;typeof s=="function"&&(s=s()),t[D]=s}else t[D]=r?n:n.pop()}return t},"_$4"),H="--",GD=/[.:=]/,KD=/^-{1,2}\w/,ZD=i(u=>{if(!KD.test(u))return;const e=!u.startsWith(H);let t=u.slice(e?1:2),D;const n=t.match(GD);if(n){const{index:r}=n;D=t.slice(r+1),t=t.slice(0,r)}return[t,D,e]},"N$1"),HD=i((u,{onFlag:e,onArgument:t})=>{let D;const n=i((r,o)=>{if(typeof D!="function")return!0;D(r,o),D=void 0},"o");for(let r=0;r<u.length;r+=1){const o=u[r];if(o===H){n();const a=u.slice(r+1);t?.(a,[r],!0);break}const s=ZD(o);if(s){if(n(),!e)continue;const[a,l,C]=s;if(C)for(let c=0;c<a.length;c+=1){n();const f=c===a.length-1;D=e(a[c],f?l:void 0,[r,c+1,f])}else D=e(a,l,[r])}else n(o,[r])&&t?.([o],[r])}n()},"$$1"),JD=i((u,e)=>{for(const[t,D,n]of e.reverse()){if(D){const r=u[t];let o=r.slice(0,D);if(n||(o+=r.slice(D+1)),o!=="-"){u[t]=o;continue}}u.splice(t,1)}},"E$1"),YD=i((u,e=process.argv.slice(2),{ignore:t}={})=>{const D=[],n=zD(u),r={},o=[];return o[H]=[],HD(e,{onFlag(s,a,l){const C=q(n,s);if(!t?.(C?SD:PD,s,a)){if(C){const[c,f]=n[s],E=MD(f,a),p=i((h,w)=>{D.push(l),w&&D.push(w),c.push(UD(f,h||""))},"p");return E===void 0?p:p(E)}q(r,s)||(r[s]=[]),r[s].push(a===void 0?!0:a),D.push(l)}},onArgument(s,a,l){t?.(ND,e[a[0]])||(o.push(...s),l?(o[H]=s,e.splice(a[0])):D.push(a))}}),JD(e,D),{flags:VD(u,n),unknownFlags:r,_:o}},"U$2");var QD=Object.create,J=Object.defineProperty,XD=Object.defineProperties,ue=Object.getOwnPropertyDescriptor,De=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertyNames,ju=Object.getOwnPropertySymbols,te=Object.getPrototypeOf,Tu=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,Su=i((u,e,t)=>e in u?J(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,"W$2"),Y=i((u,e)=>{for(var t in e||(e={}))Tu.call(e,t)&&Su(u,t,e[t]);if(ju)for(var t of ju(e))ne.call(e,t)&&Su(u,t,e[t]);return u},"p$1"),nu=i((u,e)=>XD(u,De(e)),"c"),re=i(u=>J(u,"__esModule",{value:!0}),"nD"),oe=i((u,e)=>()=>(u&&(e=u(u=0)),e),"rD"),ie=i((u,e)=>()=>(e||u((e={exports:{}}).exports,e),e.exports),"iD"),se=i((u,e,t,D)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ee(e))!Tu.call(u,n)&&n!=="default"&&J(u,n,{get:()=>e[n],enumerable:!(D=ue(e,n))||D.enumerable});return u},"oD"),ae=i((u,e)=>se(re(J(u!=null?QD(te(u)):{},"default",{value:u,enumerable:!0})),u),"BD"),$=oe(()=>{}),le=ie((u,e)=>{$(),e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});$(),$(),$();var ce=i(u=>{var e,t,D;let n=(e=process.stdout.columns)!=null?e:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(n)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:n}:{columns:(t=u.columns)!=null?t:[],stdoutColumns:(D=u.stdoutColumns)!=null?D:n}},"v$1");$(),$(),$(),$(),$();function Fe({onlyFirst:u=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,u?void 0:"g")}i(Fe,"w$2");function Pu(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(Fe(),"")}i(Pu,"d$2"),$();function Ce(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}i(Ce,"y$2");var Ee=ae(le());function P(u){if(typeof u!="string"||u.length===0||(u=Pu(u),u.length===0))return 0;u=u.replace((0,Ee.default)(),"  ");let e=0;for(let t=0;t<u.length;t++){let D=u.codePointAt(t);D<=31||D>=127&&D<=159||D>=768&&D<=879||(D>65535&&t++,e+=Ce(D)?2:1)}return e}i(P,"g");var Nu=i(u=>Math.max(...u.split(`
`).map(P)),"b$1"),fe=i(u=>{let e=[];for(let t of u){let{length:D}=t,n=D-e.length;for(let r=0;r<n;r+=1)e.push(0);for(let r=0;r<D;r+=1){let o=Nu(t[r]);o>e[r]&&(e[r]=o)}}return e},"k$1");$();var Iu=/^\d+%$/,_u={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},pe=i((u,e)=>{var t;let D=[];for(let n=0;n<u.length;n+=1){let r=(t=e[n])!=null?t:"auto";if(typeof r=="number"||r==="auto"||r==="content-width"||typeof r=="string"&&Iu.test(r)){D.push(nu(Y({},_u),{width:r,contentWidth:u[n]}));continue}if(r&&typeof r=="object"){let o=nu(Y(Y({},_u),r),{contentWidth:u[n]});o.horizontalPadding=o.paddingLeft+o.paddingRight,D.push(o);continue}throw new Error(`Invalid column width: ${JSON.stringify(r)}`)}return D},"sD");function de(u,e){for(let t of u){let{width:D}=t;if(D==="content-width"&&(t.width=t.contentWidth),D==="auto"){let a=Math.min(20,t.contentWidth);t.width=a,t.autoOverflow=t.contentWidth-a}if(typeof D=="string"&&Iu.test(D)){let a=Number.parseFloat(D.slice(0,-1))/100;t.width=Math.floor(e*a)-(t.paddingLeft+t.paddingRight)}let{horizontalPadding:n}=t,r=1,o=r+n;if(o>=e){let a=o-e,l=Math.ceil(t.paddingLeft/n*a),C=a-l;t.paddingLeft-=l,t.paddingRight-=C,t.horizontalPadding=t.paddingLeft+t.paddingRight}t.paddingLeftString=t.paddingLeft?" ".repeat(t.paddingLeft):"",t.paddingRightString=t.paddingRight?" ".repeat(t.paddingRight):"";let s=e-t.horizontalPadding;t.width=Math.max(Math.min(t.width,s),r)}}i(de,"aD");var Ru=i(()=>Object.assign([],{columns:0}),"G$1");function ge(u,e){let t=[Ru()],[D]=t;for(let n of u){let r=n.width+n.horizontalPadding;D.columns+r>e&&(D=Ru(),t.push(D)),D.push(n),D.columns+=r}for(let n of t){let r=n.reduce((f,E)=>f+E.width+E.horizontalPadding,0),o=e-r;if(o===0)continue;let s=n.filter(f=>"autoOverflow"in f),a=s.filter(f=>f.autoOverflow>0),l=a.reduce((f,E)=>f+E.autoOverflow,0),C=Math.min(l,o);for(let f of a){let E=Math.floor(f.autoOverflow/l*C);f.width+=E,o-=E}let c=Math.floor(o/s.length);for(let f=0;f<s.length;f+=1){let E=s[f];f===s.length-1?E.width+=o:E.width+=c,o-=c}}return t}i(ge,"lD");function he(u,e,t){let D=pe(t,e);return de(D,u),ge(D,u)}i(he,"Z$1"),$(),$(),$();var ru=10,Lu=i((u=0)=>e=>`\x1B[${e+u}m`,"U$1"),Mu=i((u=0)=>e=>`\x1B[${38+u};5;${e}m`,"V$1"),Uu=i((u=0)=>(e,t,D)=>`\x1B[${38+u};2;${e};${t};${D}m`,"Y");function me(){let u=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[t,D]of Object.entries(e)){for(let[n,r]of Object.entries(D))e[n]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},D[n]=e[n],u.set(r[0],r[1]);Object.defineProperty(e,t,{value:D,enumerable:!1})}return Object.defineProperty(e,"codes",{value:u,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi=Lu(),e.color.ansi256=Mu(),e.color.ansi16m=Uu(),e.bgColor.ansi=Lu(ru),e.bgColor.ansi256=Mu(ru),e.bgColor.ansi16m=Uu(ru),Object.defineProperties(e,{rgbToAnsi256:{value:(t,D,n)=>t===D&&D===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(D/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let D=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(t.toString(16));if(!D)return[0,0,0];let{colorString:n}=D.groups;n.length===3&&(n=n.split("").map(o=>o+o).join(""));let r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:t=>e.rgbToAnsi256(...e.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let D,n,r;if(t>=232)D=((t-232)*10+8)/255,n=D,r=D;else{t-=16;let a=t%36;D=Math.floor(t/36)/5,n=Math.floor(a/6)/5,r=a%6/5}let o=Math.max(D,n,r)*2;if(o===0)return 30;let s=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(D));return o===2&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(t,D,n)=>e.ansi256ToAnsi(e.rgbToAnsi256(t,D,n)),enumerable:!1},hexToAnsi:{value:t=>e.ansi256ToAnsi(e.hexToAnsi256(t)),enumerable:!1}}),e}i(me,"AD");var Be=me(),Ae=Be,Q=new Set(["\x1B","\x9B"]),be=39,ou="\x07",Wu="[",ye="]",qu="m",iu=`${ye}8;;`,zu=i(u=>`${Q.values().next().value}${Wu}${u}${qu}`,"J$2"),Vu=i(u=>`${Q.values().next().value}${iu}${u}${ou}`,"Q$1"),we=i(u=>u.split(" ").map(e=>P(e)),"hD"),su=i((u,e,t)=>{let D=[...e],n=!1,r=!1,o=P(Pu(u[u.length-1]));for(let[s,a]of D.entries()){let l=P(a);if(o+l<=t?u[u.length-1]+=a:(u.push(a),o=0),Q.has(a)&&(n=!0,r=D.slice(s+1).join("").startsWith(iu)),n){r?a===ou&&(n=!1,r=!1):a===qu&&(n=!1);continue}o+=l,o===t&&s<D.length-1&&(u.push(""),o=0)}!o&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},"S$1"),$e=i(u=>{let e=u.split(" "),t=e.length;for(;t>0&&!(P(e[t-1])>0);)t--;return t===e.length?u:e.slice(0,t).join(" ")+e.slice(t).join("")},"cD"),ve=i((u,e,t={})=>{if(t.trim!==!1&&u.trim()==="")return"";let D="",n,r,o=we(u),s=[""];for(let[l,C]of u.split(" ").entries()){t.trim!==!1&&(s[s.length-1]=s[s.length-1].trimStart());let c=P(s[s.length-1]);if(l!==0&&(c>=e&&(t.wordWrap===!1||t.trim===!1)&&(s.push(""),c=0),(c>0||t.trim===!1)&&(s[s.length-1]+=" ",c++)),t.hard&&o[l]>e){let f=e-c,E=1+Math.floor((o[l]-f-1)/e);Math.floor((o[l]-1)/e)<E&&s.push(""),su(s,C,e);continue}if(c+o[l]>e&&c>0&&o[l]>0){if(t.wordWrap===!1&&c<e){su(s,C,e);continue}s.push("")}if(c+o[l]>e&&t.wordWrap===!1){su(s,C,e);continue}s[s.length-1]+=C}t.trim!==!1&&(s=s.map(l=>$e(l)));let a=[...s.join(`
`)];for(let[l,C]of a.entries()){if(D+=C,Q.has(C)){let{groups:f}=new RegExp(`(?:\\${Wu}(?<code>\\d+)m|\\${iu}(?<uri>.*)${ou})`).exec(a.slice(l).join(""))||{groups:{}};if(f.code!==void 0){let E=Number.parseFloat(f.code);n=E===be?void 0:E}else f.uri!==void 0&&(r=f.uri.length===0?void 0:f.uri)}let c=Ae.codes.get(Number(n));a[l+1]===`
`?(r&&(D+=Vu("")),n&&c&&(D+=zu(c))):C===`
`&&(n&&c&&(D+=zu(n)),r&&(D+=Vu(r)))}return D},"dD");function xe(u,e,t){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(D=>ve(D,e,t)).join(`
`)}i(xe,"T$1");var Gu=i(u=>Array.from({length:u}).fill(""),"X");function ke(u,e){let t=[],D=0;for(let n of u){let r=0,o=n.map(a=>{var l;let C=(l=e[D])!=null?l:"";D+=1,a.preprocess&&(C=a.preprocess(C)),Nu(C)>a.width&&(C=xe(C,a.width,{hard:!0}));let c=C.split(`
`);if(a.postprocess){let{postprocess:f}=a;c=c.map((E,p)=>f.call(a,E,p))}return a.paddingTop&&c.unshift(...Gu(a.paddingTop)),a.paddingBottom&&c.push(...Gu(a.paddingBottom)),c.length>r&&(r=c.length),nu(Y({},a),{lines:c})}),s=[];for(let a=0;a<r;a+=1){let l=o.map(C=>{var c;let f=(c=C.lines[a])!=null?c:"",E=Number.isFinite(C.width)?" ".repeat(C.width-P(f)):"",p=C.paddingLeftString;return C.align==="right"&&(p+=E),p+=f,C.align==="left"&&(p+=E),p+C.paddingRightString}).join("");s.push(l)}t.push(s.join(`
`))}return t.join(`
`)}i(ke,"P$1");function Oe(u,e){if(!u||u.length===0)return"";let t=fe(u),D=t.length;if(D===0)return"";let{stdoutColumns:n,columns:r}=ce(e);if(r.length>D)throw new Error(`${r.length} columns defined, but only ${D} columns found`);let o=he(n,r,t);return u.map(s=>ke(o,s)).join(`
`)}i(Oe,"mD"),$();var je=["<",">","=",">=","<="];function Te(u){if(!je.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}i(Te,"xD");function Se(u){let e=Object.keys(u).map(t=>{let[D,n]=t.split(" ");Te(D);let r=Number.parseInt(n,10);if(Number.isNaN(r))throw new TypeError(`Invalid breakpoint value: ${n}`);let o=u[t];return{operator:D,breakpoint:r,value:o}}).sort((t,D)=>D.breakpoint-t.breakpoint);return t=>{var D;return(D=e.find(({operator:n,breakpoint:r})=>n==="="&&t===r||n===">"&&t>r||n==="<"&&t<r||n===">="&&t>=r||n==="<="&&t<=r))==null?void 0:D.value}}i(Se,"wD");const Pe=i(u=>u.replace(/[\W_]([a-z\d])?/gi,(e,t)=>t?t.toUpperCase():""),"S"),Ne=i(u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),"q$1"),Ie={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:u=>u.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function _e(u){let e=!1;return{type:"table",data:{tableData:Object.keys(u).sort((t,D)=>t.localeCompare(D)).map(t=>{const D=u[t],n="alias"in D;return n&&(e=!0),{name:t,flag:D,flagFormatted:`--${Ne(t)}`,aliasesEnabled:e,aliasFormatted:n?`-${D.alias}`:void 0}}).map(t=>(t.aliasesEnabled=e,[{type:"flagName",data:t},{type:"flagDescription",data:t}])),tableBreakpoints:Ie}}}i(_e,"D");const Ku=i(u=>!u||(u.version??(u.help?u.help.version:void 0)),"A$1"),Zu=i(u=>{const e="parent"in u&&u.parent?.name;return(e?`${e} `:"")+u.name},"C$1");function Re(u){const e=[];u.name&&e.push(Zu(u));const t=Ku(u)??("parent"in u&&Ku(u.parent));if(t&&e.push(`v${t}`),e.length!==0)return{id:"name",type:"text",data:`${e.join(" ")}
`}}i(Re,"R$2");function Le(u){const{help:e}=u;if(!(!e||!e.description))return{id:"description",type:"text",data:`${e.description}
`}}i(Le,"L");function Me(u){const e=u.help||{};if("usage"in e)return e.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(e.usage)?e.usage.join(`
`):e.usage}}:void 0;if(u.name){const t=[],D=[Zu(u)];if(u.flags&&Object.keys(u.flags).length>0&&D.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:n}=u,r=n.indexOf("--"),o=r>-1&&n.slice(r+1).some(s=>s.startsWith("<"));D.push(n.map(s=>s!=="--"?s:o?"--":"[--]").join(" "))}if(D.length>1&&t.push(D.join(" ")),"commands"in u&&u.commands?.length&&t.push(`${u.name} <command>`),t.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:t.join(`
`)}}}}i(Me,"T");function Ue(u){return!("commands"in u)||!u.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(e=>[e.options.name,e.options.help?e.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}i(Ue,"_$2");function We(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:_e(u.flags),indentBody:0}}}i(We,"k");function qe(u){const{help:e}=u;if(!e||!e.examples||e.examples.length===0)return;let{examples:t}=e;if(Array.isArray(t)&&(t=t.join(`
`)),t)return{id:"examples",type:"section",data:{title:"Examples:",body:t}}}i(qe,"F$1");function ze(u){if(!("alias"in u)||!u.alias)return;const{alias:e}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(e)?e.join(", "):e}}}i(ze,"H");const Ve=i(u=>[Re,Le,Me,Ue,We,qe,ze].map(e=>e(u)).filter(Boolean),"U"),Ge=$D.WriteStream.prototype.hasColors();let Ke=class{static{i(this,"M")}text(e){return e}bold(e){return Ge?`\x1B[1m${e}\x1B[22m`:e.toLocaleUpperCase()}indentText({text:e,spaces:t}){return e.replace(/^/gm," ".repeat(t))}heading(e){return this.bold(e)}section({title:e,body:t,indentBody:D=2}){return`${(e?`${this.heading(e)}
`:"")+(t?this.indentText({text:this.render(t),spaces:D}):"")}
`}table({tableData:e,tableOptions:t,tableBreakpoints:D}){return Oe(e.map(n=>n.map(r=>this.render(r))),D?Se(D):t)}flagParameter(e){return e===Boolean?"":e===String?"<string>":e===Number?"<number>":Array.isArray(e)?this.flagParameter(e[0]):"<value>"}flagOperator(e){return" "}flagName(e){const{flag:t,flagFormatted:D,aliasesEnabled:n,aliasFormatted:r}=e;let o="";if(r?o+=`${r}, `:n&&(o+="    "),o+=D,"placeholder"in t&&typeof t.placeholder=="string")o+=`${this.flagOperator(e)}${t.placeholder}`;else{const s=this.flagParameter("type"in t?t.type:t);s&&(o+=`${this.flagOperator(e)}${s}`)}return o}flagDefault(e){return JSON.stringify(e)}flagDescription({flag:e}){let t="description"in e?e.description??"":"";if("default"in e){let{default:D}=e;typeof D=="function"&&(D=D()),D&&(t+=` (default: ${this.flagDefault(D)})`)}return t}render(e){if(typeof e=="string")return e;if(Array.isArray(e))return e.map(t=>this.render(t)).join(`
`);if("type"in e&&this[e.type]){const t=this[e.type];if(typeof t=="function")return t.call(this,e.data)}throw new Error(`Invalid node type: ${JSON.stringify(e)}`)}};const Hu=/^[\w.-]+$/,{stringify:k}=JSON,Ze=/[|\\{}()[\]^$+*?.]/;function au(u){const e=[];let t,D;for(const n of u){if(D)throw new Error(`Invalid parameter: Spread parameter ${k(D)} must be last`);const r=n[0],o=n[n.length-1];let s;if(r==="<"&&o===">"&&(s=!0,t))throw new Error(`Invalid parameter: Required parameter ${k(n)} cannot come after optional parameter ${k(t)}`);if(r==="["&&o==="]"&&(s=!1,t=n),s===void 0)throw new Error(`Invalid parameter: ${k(n)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=n.slice(1,-1);const l=a.slice(-3)==="...";l&&(D=n,a=a.slice(0,-3));const C=a.match(Ze);if(C)throw new Error(`Invalid parameter: ${k(n)}. Invalid character found ${k(C[0])}`);e.push({name:a,required:s,spread:l})}return e}i(au,"w$1");function lu(u,e,t,D){for(let n=0;n<e.length;n+=1){const{name:r,required:o,spread:s}=e[n],a=Pe(r);if(a in u)throw new Error(`Invalid parameter: ${k(r)} is used more than once.`);const l=s?t.slice(n):t[n];if(s&&(n=e.length),o&&(!l||s&&l.length===0))return console.error(`Error: Missing required parameter ${k(r)}
`),D(),process.exit(1);u[a]=l}}i(lu,"b");function He(u){return u===void 0||u!==!1}i(He,"W$1");function Ju(u,e,t,D){const n={...e.flags},r=e.version;r&&(n.version={type:Boolean,description:"Show version"});const{help:o}=e,s=He(o);s&&!("help"in n)&&(n.help={type:Boolean,alias:"h",description:"Show help"});const a=YD(n,D,{ignore:e.ignoreArgv}),l=i(()=>{console.log(e.version)},"f");if(r&&a.flags.version===!0)return l(),process.exit(0);const C=new Ke,c=s&&o?.render?o.render:p=>C.render(p),f=i(p=>{const h=Ve({...e,...p?{help:p}:{},flags:n});console.log(c(h,C))},"u");if(s&&a.flags.help===!0)return f(),process.exit(0);if(e.parameters){let{parameters:p}=e,h=a._;const w=p.indexOf("--"),O=p.slice(w+1),v=Object.create(null);if(w>-1&&O.length>0){p=p.slice(0,w);const F=a._["--"];h=h.slice(0,-F.length||void 0),lu(v,au(p),h,f),lu(v,au(O),F,f)}else lu(v,au(p),h,f);Object.assign(a._,v)}const E={...a,showVersion:l,showHelp:f};return typeof t=="function"&&t(E),{command:u,...E}}i(Ju,"x");function Je(u,e){const t=new Map;for(const D of e){const n=[D.options.name],{alias:r}=D.options;r&&(Array.isArray(r)?n.push(...r):n.push(r));for(const o of n){if(t.has(o))throw new Error(`Duplicate command name found: ${k(o)}`);t.set(o,D)}}return t.get(u)}i(Je,"z$1");function Ye(u,e,t=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!Hu.test(u.name)))throw new Error(`Invalid script name: ${k(u.name)}`);const D=t[0];if(u.commands&&Hu.test(D)){const n=Je(D,u.commands);if(n)return Ju(n.options.name,{...n.options,parent:u},n.callback,t.slice(1))}return Ju(void 0,u,e,t)}i(Ye,"Z");var Qe="2.1.1";const cu=i(u=>j.promises.access(u).then(()=>!0,()=>!1),"fsExists"),Xe=i(async u=>{const e=g.join(u,"package.json");if(!await cu(e))throw new Error(`package.json not found at: ${e}`);const D=await j.promises.readFile(e,"utf8");try{return JSON.parse(D)}catch(n){throw new Error(`Cannot parse package.json: ${n.message}`)}},"readPackageJson"),ut=/^[/.]/,X=i((u,e)=>(!g.isAbsolute(u)&&!ut.test(u)&&(u=`./${u}`),e&&!u.endsWith("/")&&(u+="/"),u),"normalizePath"),T=i(u=>{if(u.endsWith(".mjs"))return"module";if(u.endsWith(".cjs"))return"commonjs"},"getFileType"),Yu=i(u=>u.startsWith("."),"isPath"),Fu=i((u,e,t="exports")=>{if(u){if(typeof u=="string")return Yu(u)?[{outputPath:u,type:T(u)||e,from:t}]:[];if(Array.isArray(u))return u.flatMap((D,n)=>{const r=`${t}[${n}]`;return typeof D=="string"?Yu(D)?{outputPath:D,type:T(D)||e,from:r}:[]:Fu(D,e,r)});if(typeof u=="object")return Object.entries(u).flatMap(([D,n])=>{if(typeof n=="string"){const r={outputPath:n,from:`${t}.${D}`};if(D==="require")return{...r,type:"commonjs"};if(D==="import")return{...r,type:T(n)||e};if(D==="types")return{...r,type:"types"};if(D==="node")return{...r,type:T(n)||e,platform:"node"};if(D==="default")return{...r,type:T(n)||e}}return Fu(n,e,`${t}.${D}`)})}return[]},"parseExportsMap"),I=i((u,e)=>{e.outputPath=X(e.outputPath);const{outputPath:t,type:D,platform:n}=e,r=u[t];if(r){if(r.type!==D)throw new Error(`Conflicting export types "${r.type}" & "${D}" found for ${t}`);if(r.platform!==n)throw new Error(`Conflicting export platforms "${r.platform}" & "${n}" found for ${t}`);Object.assign(r,e)}else u[t]=e},"addExportPath"),Dt=i(u=>{const e={},t=u.type??"commonjs";if(u.main){const D=u.main;I(e,{outputPath:D,type:T(D)??t,from:"main"})}if(u.module&&I(e,{outputPath:u.module,type:"module",from:"module"}),u.types&&I(e,{outputPath:u.types,type:"types",from:"types"}),u.bin){const{bin:D}=u;if(typeof D=="string")I(e,{outputPath:D,type:T(D)??t,isExecutable:!0,from:"bin"});else for(const[n,r]of Object.entries(D))I(e,{outputPath:r,type:T(r)??t,isExecutable:!0,from:`bin.${n}`})}if(u.exports){const D=Fu(u.exports,t);for(const n of D)I(e,n)}return Object.values(e)},"getExportEntries"),et=i(({imports:u},e)=>{const t={};if(u)for(const D in u){if(D.startsWith("#"))continue;const n=u[D];typeof n=="string"&&(t[D]=g.join(e,n))}return t},"getAliases"),{stringify:tt}=JSON,nt=i(async(u,e)=>{for(const t of e){const D=u+t;if(await cu(D))return{extension:t,path:D}}},"tryExtensions"),Qu={".d.ts":[".d.ts",".d.mts",".d.cts",".ts",".mts",".cts"],".d.mts":[".d.mts",".d.ts",".d.cts",".ts",".mts",".cts"],".d.cts":[".d.cts",".d.ts",".d.mts",".ts",".mts",".cts"],".js":[".js",".ts",".tsx",".mts",".cts"],".mjs":[".mjs",".js",".cjs",".mts",".cts",".ts"],".cjs":[".cjs",".js",".mjs",".mts",".cts",".ts"]},rt=Object.keys(Qu),ot=i(async(u,e,t)=>{const D=e+u.outputPath.slice(t.length);for(const n of rt)if(u.outputPath.endsWith(n)){const r=await nt(D.slice(0,-n.length),Qu[n]);if(r)return{input:r.path,srcExtension:r.extension,distExtension:n}}throw new Error(`Could not find matching source file for export path ${tt(u.outputPath)}`)},"getSourcePath"),Cu="pkgroll:create-require",Xu=`IS_ESM${Math.random().toString(36).slice(2)}`,it=i(()=>({...jD({require:Cu}),name:"create-require",resolveId:u=>u===Cu?u:null,load:u=>u!==Cu?null:`
		import { createRequire } from 'module';

		export default (
			${Xu}
				? /* @__PURE__ */ createRequire(import.meta.url)
				: require
		);
		`}),"createRequire"),st=i(u=>{const e=$u({[Xu]:u}).renderChunk;return{name:"create-require-insert-format",renderChunk:{order:"pre",handler:typeof e=="function"?e:e.handler}}},"isFormatEsm"),uD=i(u=>u!==null&&typeof u=="object","A"),_=i((u,e)=>Object.assign(new Error(`[${u}]: ${e}`),{code:u}),"a"),DD="ERR_INVALID_PACKAGE_CONFIG",Eu="ERR_INVALID_PACKAGE_TARGET",at="ERR_PACKAGE_PATH_NOT_EXPORTED",lt=/^\d+$/,ct=/^(\.{1,2}|node_modules)$/i,Ft=/\/|\\/;var eD=(u=>(u.Export="exports",u.Import="imports",u))(eD||{});const fu=i((u,e,t,D,n)=>{if(e==null)return[];if(typeof e=="string"){const[r,...o]=e.split(Ft);if(r===".."||o.some(s=>ct.test(s)))throw _(Eu,`Invalid "${u}" target "${e}" defined in the package config`);return[n?e.replace(/\*/g,n):e]}if(Array.isArray(e))return e.flatMap(r=>fu(u,r,t,D,n));if(uD(e)){for(const r of Object.keys(e)){if(lt.test(r))throw _(DD,"Cannot contain numeric property keys");if(r==="default"||D.includes(r))return fu(u,e[r],t,D,n)}return[]}throw _(Eu,`Invalid "${u}" target "${e}"`)},"f"),z="*",Ct=i((u,e)=>{const t=u.indexOf(z),D=e.indexOf(z);return t===D?e.length>u.length:D>t},"m");function Et(u,e){if(!e.includes(z)&&u.hasOwnProperty(e))return[e];let t,D;for(const n of Object.keys(u))if(n.includes(z)){const[r,o,s]=n.split(z);if(s===void 0&&e.startsWith(r)&&e.endsWith(o)){const a=e.slice(r.length,-o.length||void 0);a&&(!t||Ct(t,n))&&(t=n,D=a)}}return[t,D]}i(Et,"d");const ft=i(u=>Object.keys(u).reduce((e,t)=>{const D=t===""||t[0]!==".";if(e===void 0||e===D)return D;throw _(DD,'"exports" cannot contain some keys starting with "." and some not')},void 0),"p"),pt=/^\w+:/,dt=i((u,e,t)=>{if(!u)throw new Error('"exports" is required');e=e===""?".":`./${e}`,(typeof u=="string"||Array.isArray(u)||uD(u)&&ft(u))&&(u={".":u});const[D,n]=Et(u,e),r=fu(eD.Export,u[D],e,t,n);if(r.length===0)throw _(at,e==="."?'No "exports" main defined':`Package subpath '${e}' is not defined by "exports"`);for(const o of r)if(!o.startsWith("./")&&!pt.test(o))throw _(Eu,`Invalid "exports" target "${o}" defined in the package config`);return r},"v");function S(u){return u.startsWith("\\\\?\\")?u:u.replace(/\\/g,"/")}i(S,"B");const pu=i(u=>{const e=j[u];return(t,...D)=>{const n=`${u}:${D.join(":")}`;let r=t?.get(n);return r===void 0&&(r=Reflect.apply(e,j,D),t?.set(n,r)),r}},"W"),x=pu("existsSync"),gt=pu("readFileSync"),uu=pu("statSync"),tD=i((u,e,t)=>{for(;;){const D=g.posix.join(u,e);if(x(t,D))return D;const n=g.dirname(u);if(n===u)return;u=n}},"q"),ht=/^\.{1,2}(\/.*)?$/,du=i(u=>{const e=S(u);return ht.test(e)?e:`./${e}`},"J");function mt(u,e=!1){const t=u.length;let D=0,n="",r=0,o=16,s=0,a=0,l=0,C=0,c=0;function f(F,m){let d=0,A=0;for(;d<F||!m;){let y=u.charCodeAt(D);if(y>=48&&y<=57)A=A*16+y-48;else if(y>=65&&y<=70)A=A*16+y-65+10;else if(y>=97&&y<=102)A=A*16+y-97+10;else break;D++,d++}return d<F&&(A=-1),A}i(f,"E");function E(F){D=F,n="",r=0,o=16,c=0}i(E,"b");function p(){let F=D;if(u.charCodeAt(D)===48)D++;else for(D++;D<u.length&&R(u.charCodeAt(D));)D++;if(D<u.length&&u.charCodeAt(D)===46)if(D++,D<u.length&&R(u.charCodeAt(D)))for(D++;D<u.length&&R(u.charCodeAt(D));)D++;else return c=3,u.substring(F,D);let m=D;if(D<u.length&&(u.charCodeAt(D)===69||u.charCodeAt(D)===101))if(D++,(D<u.length&&u.charCodeAt(D)===43||u.charCodeAt(D)===45)&&D++,D<u.length&&R(u.charCodeAt(D))){for(D++;D<u.length&&R(u.charCodeAt(D));)D++;m=D}else c=3;return u.substring(F,m)}i(p,"T");function h(){let F="",m=D;for(;;){if(D>=t){F+=u.substring(m,D),c=2;break}const d=u.charCodeAt(D);if(d===34){F+=u.substring(m,D),D++;break}if(d===92){if(F+=u.substring(m,D),D++,D>=t){c=2;break}switch(u.charCodeAt(D++)){case 34:F+='"';break;case 92:F+="\\";break;case 47:F+="/";break;case 98:F+="\b";break;case 102:F+="\f";break;case 110:F+=`
`;break;case 114:F+="\r";break;case 116:F+="	";break;case 117:const A=f(4,!0);A>=0?F+=String.fromCharCode(A):c=4;break;default:c=5}m=D;continue}if(d>=0&&d<=31)if(V(d)){F+=u.substring(m,D),c=2;break}else c=6;D++}return F}i(h,"k");function w(){if(n="",c=0,r=D,a=s,C=l,D>=t)return r=t,o=17;let F=u.charCodeAt(D);if(gu(F)){do D++,n+=String.fromCharCode(F),F=u.charCodeAt(D);while(gu(F));return o=15}if(V(F))return D++,n+=String.fromCharCode(F),F===13&&u.charCodeAt(D)===10&&(D++,n+=`
`),s++,l=D,o=14;switch(F){case 123:return D++,o=1;case 125:return D++,o=2;case 91:return D++,o=3;case 93:return D++,o=4;case 58:return D++,o=6;case 44:return D++,o=5;case 34:return D++,n=h(),o=10;case 47:const m=D-1;if(u.charCodeAt(D+1)===47){for(D+=2;D<t&&!V(u.charCodeAt(D));)D++;return n=u.substring(m,D),o=12}if(u.charCodeAt(D+1)===42){D+=2;const d=t-1;let A=!1;for(;D<d;){const y=u.charCodeAt(D);if(y===42&&u.charCodeAt(D+1)===47){D+=2,A=!0;break}D++,V(y)&&(y===13&&u.charCodeAt(D)===10&&D++,s++,l=D)}return A||(D++,c=1),n=u.substring(m,D),o=13}return n+=String.fromCharCode(F),D++,o=16;case 45:if(n+=String.fromCharCode(F),D++,D===t||!R(u.charCodeAt(D)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n+=p(),o=11;default:for(;D<t&&O(F);)D++,F=u.charCodeAt(D);if(r!==D){switch(n=u.substring(r,D),n){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return n+=String.fromCharCode(F),D++,o=16}}i(w,"j");function O(F){if(gu(F)||V(F))return!1;switch(F){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}i(O,"L");function v(){let F;do F=w();while(F>=12&&F<=15);return F}return i(v,"U"),{setPosition:E,getPosition:()=>D,scan:e?v:w,getToken:()=>o,getTokenValue:()=>n,getTokenOffset:()=>r,getTokenLength:()=>D-r,getTokenStartLine:()=>a,getTokenStartCharacter:()=>r-C,getTokenError:()=>c}}i(mt,"be");function gu(u){return u===32||u===9}i(gu,"M");function V(u){return u===10||u===13}i(V,"N");function R(u){return u>=48&&u<=57}i(R,"y");var nD;(function(u){u[u.lineFeed=10]="lineFeed",u[u.carriageReturn=13]="carriageReturn",u[u.space=32]="space",u[u._0=48]="_0",u[u._1=49]="_1",u[u._2=50]="_2",u[u._3=51]="_3",u[u._4=52]="_4",u[u._5=53]="_5",u[u._6=54]="_6",u[u._7=55]="_7",u[u._8=56]="_8",u[u._9=57]="_9",u[u.a=97]="a",u[u.b=98]="b",u[u.c=99]="c",u[u.d=100]="d",u[u.e=101]="e",u[u.f=102]="f",u[u.g=103]="g",u[u.h=104]="h",u[u.i=105]="i",u[u.j=106]="j",u[u.k=107]="k",u[u.l=108]="l",u[u.m=109]="m",u[u.n=110]="n",u[u.o=111]="o",u[u.p=112]="p",u[u.q=113]="q",u[u.r=114]="r",u[u.s=115]="s",u[u.t=116]="t",u[u.u=117]="u",u[u.v=118]="v",u[u.w=119]="w",u[u.x=120]="x",u[u.y=121]="y",u[u.z=122]="z",u[u.A=65]="A",u[u.B=66]="B",u[u.C=67]="C",u[u.D=68]="D",u[u.E=69]="E",u[u.F=70]="F",u[u.G=71]="G",u[u.H=72]="H",u[u.I=73]="I",u[u.J=74]="J",u[u.K=75]="K",u[u.L=76]="L",u[u.M=77]="M",u[u.N=78]="N",u[u.O=79]="O",u[u.P=80]="P",u[u.Q=81]="Q",u[u.R=82]="R",u[u.S=83]="S",u[u.T=84]="T",u[u.U=85]="U",u[u.V=86]="V",u[u.W=87]="W",u[u.X=88]="X",u[u.Y=89]="Y",u[u.Z=90]="Z",u[u.asterisk=42]="asterisk",u[u.backslash=92]="backslash",u[u.closeBrace=125]="closeBrace",u[u.closeBracket=93]="closeBracket",u[u.colon=58]="colon",u[u.comma=44]="comma",u[u.dot=46]="dot",u[u.doubleQuote=34]="doubleQuote",u[u.minus=45]="minus",u[u.openBrace=123]="openBrace",u[u.openBracket=91]="openBracket",u[u.plus=43]="plus",u[u.slash=47]="slash",u[u.formFeed=12]="formFeed",u[u.tab=9]="tab"})(nD||(nD={})),new Array(20).fill(0).map((u,e)=>" ".repeat(e));const L=200;new Array(L).fill(0).map((u,e)=>`
`+" ".repeat(e)),new Array(L).fill(0).map((u,e)=>"\r"+" ".repeat(e)),new Array(L).fill(0).map((u,e)=>`\r
`+" ".repeat(e)),new Array(L).fill(0).map((u,e)=>`
`+"	".repeat(e)),new Array(L).fill(0).map((u,e)=>"\r"+"	".repeat(e)),new Array(L).fill(0).map((u,e)=>`\r
`+"	".repeat(e));var Du;(function(u){u.DEFAULT={allowTrailingComma:!1}})(Du||(Du={}));function Bt(u,e=[],t=Du.DEFAULT){let D=null,n=[];const r=[];function o(s){Array.isArray(n)?n.push(s):D!==null&&(n[D]=s)}return i(o,"o"),At(u,{onObjectBegin:()=>{const s={};o(s),r.push(n),n=s,D=null},onObjectProperty:s=>{D=s},onObjectEnd:()=>{n=r.pop()},onArrayBegin:()=>{const s=[];o(s),r.push(n),n=s,D=null},onArrayEnd:()=>{n=r.pop()},onLiteralValue:o,onError:(s,a,l)=>{e.push({error:s,offset:a,length:l})}},t),n[0]}i(Bt,"we");function At(u,e,t=Du.DEFAULT){const D=mt(u,!1),n=[];function r(B){return B?()=>B(D.getTokenOffset(),D.getTokenLength(),D.getTokenStartLine(),D.getTokenStartCharacter()):()=>!0}i(r,"s");function o(B){return B?()=>B(D.getTokenOffset(),D.getTokenLength(),D.getTokenStartLine(),D.getTokenStartCharacter(),()=>n.slice()):()=>!0}i(o,"o");function s(B){return B?b=>B(b,D.getTokenOffset(),D.getTokenLength(),D.getTokenStartLine(),D.getTokenStartCharacter()):()=>!0}i(s,"m");function a(B){return B?b=>B(b,D.getTokenOffset(),D.getTokenLength(),D.getTokenStartLine(),D.getTokenStartCharacter(),()=>n.slice()):()=>!0}i(a,"u");const l=o(e.onObjectBegin),C=a(e.onObjectProperty),c=r(e.onObjectEnd),f=o(e.onArrayBegin),E=r(e.onArrayEnd),p=a(e.onLiteralValue),h=s(e.onSeparator),w=r(e.onComment),O=s(e.onError),v=t&&t.disallowComments,F=t&&t.allowTrailingComma;function m(){for(;;){const B=D.scan();switch(D.getTokenError()){case 4:d(14);break;case 5:d(15);break;case 3:d(13);break;case 1:v||d(11);break;case 2:d(12);break;case 6:d(16);break}switch(B){case 12:case 13:v?d(10):w();break;case 16:d(1);break;case 15:case 14:break;default:return B}}}i(m,"g");function d(B,b=[],yu=[]){if(O(B),b.length+yu.length>0){let Z=D.getToken();for(;Z!==17;){if(b.indexOf(Z)!==-1){m();break}else if(yu.indexOf(Z)!==-1)break;Z=m()}}}i(d,"c");function A(B){const b=D.getTokenValue();return B?p(b):(C(b),n.push(b)),m(),!0}i(A,"$");function y(){switch(D.getToken()){case 11:const B=D.getTokenValue();let b=Number(B);isNaN(b)&&(d(2),b=0),p(b);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return m(),!0}i(y,"A");function AD(){return D.getToken()!==10?(d(3,[],[2,5]),!1):(A(!1),D.getToken()===6?(h(":"),m(),tu()||d(4,[],[2,5])):d(5,[],[2,5]),n.pop(),!0)}i(AD,"ce");function bD(){l(),m();let B=!1;for(;D.getToken()!==2&&D.getToken()!==17;){if(D.getToken()===5){if(B||d(4,[],[]),h(","),m(),D.getToken()===2&&F)break}else B&&d(6,[],[]);AD()||d(4,[],[2,5]),B=!0}return c(),D.getToken()!==2?d(7,[2],[]):m(),!0}i(bD,"pe");function yD(){f(),m();let B=!0,b=!1;for(;D.getToken()!==4&&D.getToken()!==17;){if(D.getToken()===5){if(b||d(4,[],[]),h(","),m(),D.getToken()===4&&F)break}else b&&d(6,[],[]);B?(n.push(0),B=!1):n[n.length-1]++,tu()||d(4,[],[4,5]),b=!0}return E(),B||n.pop(),D.getToken()!==4?d(8,[4],[]):m(),!0}i(yD,"me");function tu(){switch(D.getToken()){case 3:return yD();case 1:return bD();case 10:return A(!0);default:return y()}}return i(tu,"S"),m(),D.getToken()===17?t.allowEmptyContent?!0:(d(4,[],[]),!1):tu()?(D.getToken()!==17&&d(9,[],[]),!0):(d(4,[],[]),!1)}i(At,"Te");var rD;(function(u){u[u.None=0]="None",u[u.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=2]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",u[u.InvalidUnicode=4]="InvalidUnicode",u[u.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",u[u.InvalidCharacter=6]="InvalidCharacter"})(rD||(rD={}));var oD;(function(u){u[u.OpenBraceToken=1]="OpenBraceToken",u[u.CloseBraceToken=2]="CloseBraceToken",u[u.OpenBracketToken=3]="OpenBracketToken",u[u.CloseBracketToken=4]="CloseBracketToken",u[u.CommaToken=5]="CommaToken",u[u.ColonToken=6]="ColonToken",u[u.NullKeyword=7]="NullKeyword",u[u.TrueKeyword=8]="TrueKeyword",u[u.FalseKeyword=9]="FalseKeyword",u[u.StringLiteral=10]="StringLiteral",u[u.NumericLiteral=11]="NumericLiteral",u[u.LineCommentTrivia=12]="LineCommentTrivia",u[u.BlockCommentTrivia=13]="BlockCommentTrivia",u[u.LineBreakTrivia=14]="LineBreakTrivia",u[u.Trivia=15]="Trivia",u[u.Unknown=16]="Unknown",u[u.EOF=17]="EOF"})(oD||(oD={}));const bt=Bt;var iD;(function(u){u[u.InvalidSymbol=1]="InvalidSymbol",u[u.InvalidNumberFormat=2]="InvalidNumberFormat",u[u.PropertyNameExpected=3]="PropertyNameExpected",u[u.ValueExpected=4]="ValueExpected",u[u.ColonExpected=5]="ColonExpected",u[u.CommaExpected=6]="CommaExpected",u[u.CloseBraceExpected=7]="CloseBraceExpected",u[u.CloseBracketExpected=8]="CloseBracketExpected",u[u.EndOfFileExpected=9]="EndOfFileExpected",u[u.InvalidCommentToken=10]="InvalidCommentToken",u[u.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=12]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",u[u.InvalidUnicode=14]="InvalidUnicode",u[u.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",u[u.InvalidCharacter=16]="InvalidCharacter"})(iD||(iD={}));const sD=i((u,e)=>bt(gt(e,u,"utf8")),"te"),yt=Symbol("implicitBaseUrl"),wt=i(()=>{const{findPnpApi:u}=xu;return u&&u(process.cwd())},"Ae"),hu=i((u,e,t,D)=>{const n=`resolveFromPackageJsonPath:${u}:${e}:${t}`;if(D!=null&&D.has(n))return D.get(n);const r=sD(u,D);if(!r)return;let o=e||"tsconfig.json";if(!t&&r.exports)try{const[s]=dt(r.exports,e,["require","types"]);o=s}catch{return!1}else!e&&r.tsconfig&&(o=r.tsconfig);return o=g.join(u,"..",o),D?.set(n,o),o},"G"),mu="package.json",Bu="tsconfig.json",$t=i((u,e,t)=>{let D=u;if(u===".."&&(D=g.join(D,Bu)),u[0]==="."&&(D=g.resolve(e,D)),g.isAbsolute(D)){if(x(t,D)){if(uu(t,D).isFile())return D}else if(!D.endsWith(".json")){const E=`${D}.json`;if(x(t,E))return E}return}const[n,...r]=u.split("/"),o=n[0]==="@"?`${n}/${r.shift()}`:n,s=r.join("/"),a=wt();if(a){const{resolveRequest:E}=a;try{if(o===u){const p=E(g.join(o,mu),e);if(p){const h=hu(p,s,!1,t);if(h&&x(t,h))return h}}else{let p;try{p=E(u,e,{extensions:[".json"]})}catch{p=E(g.join(u,Bu),e)}if(p)return p}}catch{}}const l=tD(g.resolve(e),g.join("node_modules",o),t);if(!l||!uu(t,l).isDirectory())return;const C=g.join(l,mu);if(x(t,C)){const E=hu(C,s,!1,t);if(E===!1)return;if(E&&x(t,E)&&uu(t,E).isFile())return E}const c=g.join(l,s),f=c.endsWith(".json");if(!f){const E=`${c}.json`;if(x(t,E))return E}if(x(t,c)){if(uu(t,c).isDirectory()){const E=g.join(c,mu);if(x(t,E)){const h=hu(E,"",!0,t);if(h&&x(t,h))return h}const p=g.join(c,Bu);if(x(t,p))return p}else if(f)return c}},"Oe"),vt=i((u,e,t,D)=>{const n=$t(u,e,D);if(!n)throw new Error(`File '${u}' not found.`);if(t.has(n))throw new Error(`Circularity detected while resolving configuration: ${n}`);t.add(n);const r=g.dirname(n),o=aD(n,D,t);delete o.references;const{compilerOptions:s}=o;if(s){const a=["baseUrl","outDir"];for(const l of a){const C=s[l];C&&(s[l]=S(g.relative(e,g.join(r,C)))||"./")}}return o.files&&(o.files=o.files.map(a=>S(g.relative(e,g.join(r,a))))),o.include&&(o.include=o.include.map(a=>S(g.relative(e,g.join(r,a))))),o.exclude&&(o.exclude=o.exclude.map(a=>S(g.relative(e,g.join(r,a))))),o},"je"),aD=i((u,e,t=new Set)=>{let D;try{D=sD(u,e)||{}}catch{throw new Error(`Cannot resolve tsconfig at path: ${u}`)}if(typeof D!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${u}`);const n=g.dirname(u);if(D.compilerOptions){const{compilerOptions:r}=D;r.paths&&!r.baseUrl&&(r[yt]=n)}if(D.extends){const r=Array.isArray(D.extends)?D.extends:[D.extends];delete D.extends;for(const o of r.reverse()){const s=vt(o,n,new Set(t),e),a={...s,...D,compilerOptions:{...s.compilerOptions,...D.compilerOptions}};s.watchOptions&&(a.watchOptions={...s.watchOptions,...D.watchOptions}),D=a}}if(D.compilerOptions){const{compilerOptions:r}=D,o=["baseUrl","rootDir"];for(const a of o){const l=r[a];if(l){const C=g.resolve(n,l),c=du(g.relative(n,C));r[a]=c}}const{outDir:s}=r;s&&(Array.isArray(D.exclude)||(D.exclude=[]),D.exclude.includes(s)||D.exclude.push(s),r.outDir=du(s))}else D.compilerOptions={};if(D.files&&(D.files=D.files.map(du)),D.include&&(D.include=D.include.map(S)),D.watchOptions){const{watchOptions:r}=D;r.excludeDirectories&&(r.excludeDirectories=r.excludeDirectories.map(o=>S(g.resolve(n,o))))}return D},"ie"),xt=i((u,e=new Map)=>aD(u,e),"le"),kt=i((u=process.cwd(),e="tsconfig.json",t=new Map)=>{const D=tD(S(u),e,t);if(!D)return null;const n=xt(D,t);return{path:D,config:n}},"$e");g.posix,process.platform;const lD=kt(),Ot=i(u=>{const e=TD.createFilter(/\.([cm]?ts|[jt]sx)$/);return{name:"esbuild-transform",transform:async(t,D)=>{if(!e(D))return null;const n=await vu.transform(t,{...u,loader:"default",sourcefile:D.replace(/\.[cm]ts/,".ts"),tsconfigRaw:lD?.config});return{code:n.code,map:n.map||null}}}},"esbuildTransform"),jt=i(u=>{if(u==="es")return"esm";if(u==="cjs"||u==="iife")return u},"getEsbuildFormat"),Tt=i(u=>({name:"esbuild-minify",renderChunk:async(e,t,D)=>{const n=await vu.transform(e,{...u,format:jt(D.format),minify:!0,keepNames:!0});return{code:n.code,map:n.map||null}}}),"esbuildMinify"),Au=i((u,e)=>u[0]-e[0]||u[1]-e[1]||u[2]-e[2],"compareSemver"),cD=i(({target:u})=>{const e=u.some(t=>{if(t=t.trim(),!t.startsWith("node"))return;const D=t.slice(4).split(".").map(Number),n=[D[0],D[1]??0,D[2]??0];return!(Au(n,[12,20,0])>=0&&Au(n,[13,0,0])<0||Au(n,[14,13,1])>=0)});return{name:"externalize-node-builtins",resolveId:t=>{const D=t.startsWith("node:");if(e&&D&&(t=t.slice(5)),xu.builtinModules.includes(t)||D)return{id:t,external:!0}}}},"externalizeNodeBuiltins"),St=i(u=>({name:"patch-binary",renderChunk:(e,t,D)=>{if(!t.isEntry||!t.facadeModuleId)return;const n=D.entryFileNames,r=`./${g.posix.join(D.dir,n(t))}`;if(u.includes(r)){const o=new ku(e);return o.prepend(`#!/usr/bin/env node
`),{code:o.toString(),map:D.sourcemap?o.generateMap({hires:!0}):void 0}}},writeBundle:async(e,t)=>{const D=e.entryFileNames,n=Object.values(t).map(async r=>{const o=r;if(o.isEntry&&o.facadeModuleId){const s=`./${g.posix.join(e.dir,D(o))}`;await j.promises.chmod(s,493)}});await Promise.all(n)}}),"patchBinary"),FD=i(()=>{const u=/\.(?:[mc]?js|jsx)$/;return{name:"resolve-typescript-mjs-cjs",resolveId(e,t,D){return u.test(e)&&t?this.resolve(e.replace(/js(x?)$/,"ts$1"),t,D):null}}},"resolveTypescriptMjsCts"),CD=/^#!.*/,Pt=i(()=>({name:"strip-hashbang",transform:u=>{if(!CD.test(u))return null;const e=new ku(u);return e.replace(CD,""),{code:e.toString(),map:e.generateMap({hires:!0})}}}),"stripHashbang"),Nt=["peerDependencies","dependencies","optionalDependencies"],bu="@types/",ED=i((u,e,t=!1)=>{const D=[],{devDependencies:n}=u;for(const r of Nt){const o=u[r];if(!o)continue;const s=Object.keys(o);for(const a of s)if(!(a in e))if(a.startsWith(bu)){if(t){let l=a.slice(bu.length);l.includes("__")&&(l=`@${l.replace("__","/")}`),D.push(l)}}else{if(n&&t){const l=bu+a.replace("@","").replace("/","__");n[l]&&!(l in o)&&console.warn(`Recommendation: "${l}" is externalized because "${a}" is in "${r}". Place "${l}" in "${r}" as well so users don't have missing types.`)}D.push(a)}}return D.flatMap(r=>[r,new RegExp(`^${r}/`)])},"getExternalDependencies"),fD=i(u=>u.split("?")[0],"stripQuery"),pD={type:async u=>{const e=await Promise.resolve().then(function(){return require("./rollup-plugin-dts-BzOer96X.js")});return{input:[],preserveEntrySignatures:"strict",plugins:[cD(u),FD(),e.default({respectExternal:!0,compilerOptions:{composite:!1}})],output:[],external:[]}},app:(u,e,t,D)=>{const n={target:u.target};return{input:[],preserveEntrySignatures:"strict",plugins:[cD(u),FD(),OD({entries:e}),vD({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:u.exportCondition}),...Object.keys(t).length>0?[$u({preventAssignment:!0,objectGuards:!0,values:t})]:[],Pt(),xD(),kD(),Ot(n),it(),...u.minify?[Tt(n)]:[],St(D)],output:[],external:[]}}},It=i(async(u,e,t,D,n,r)=>{const o=t.filter(({exportEntry:c})=>c.isExecutable).map(({exportEntry:c})=>c.outputPath),s=Object.create(null),a=Object.fromEntries(D.env.map(({key:c,value:f})=>[`process.env.${c}`,JSON.stringify(f)])),l=ED(r,n),C=ED(r,n,!0);for(const{input:c,srcExtension:f,distExtension:E,exportEntry:p}of t){if(p.type==="types"){let F=s.type;F||(F=await pD.type(D),F.external=C,s.type=F),F.input.includes(c)||F.input.push(c),F.output.push({dir:e,entryFileNames:m=>j.realpathSync.native(fD(m.facadeModuleId)).slice(u.length,-f.length)+E,exports:"auto",format:"esm"});continue}let h=s.app;h||(h=pD.app(D,n,a,o),h.external=l,s.app=h),h.input.includes(c)||h.input.push(c);const w=h.output,O=g.extname(p.outputPath),v=`${p.type}-${O}`;if(!w[v]){const F={dir:e,exports:"auto",format:p.type,chunkFileNames:`[name]-[hash]${O}`,sourcemap:D.sourcemap,plugins:[st(p.type==="module")],entryFileNames:m=>{const A=j.realpathSync.native(fD(m.facadeModuleId)).slice(u.length),[y]=A.split(".");return y+E}};w.push(F),w[v]=F}}return s},"getRollupConfigs");let N=!0;const M=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let G=0;if(M.process&&M.process.env&&M.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:e,NO_COLOR:t,TERM:D,COLORTERM:n}=M.process.env;e||t||u==="0"?N=!1:u==="1"||u==="2"||u==="3"?N=!0:D==="dumb"?N=!1:"CI"in M.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(r=>r in M.process.env)?N=!0:N=process.stdout.isTTY,N&&(process.platform==="win32"||n&&(n==="truecolor"||n==="24bit")?G=3:D&&(D.endsWith("-256color")||D.endsWith("256"))?G=2:G=1)}let dD={enabled:N,supportLevel:G};function _t(u,e,t=1){const D=`\x1B[${u}m`,n=`\x1B[${e}m`,r=new RegExp(`\\x1b\\[${e}m`,"g");return o=>dD.enabled&&dD.supportLevel>=t?D+(""+o).replace(r,D)+n:""+o}i(_t,"kolorist");const Rt=_t(90,39),Lt=i(()=>new Date().toLocaleTimeString(),"currentTime"),eu=i((...u)=>console.log(`[${Rt(Lt())}]`,...u),"log"),Mt=i(async u=>{await cu(u)&&await j.promises.rm(u,{recursive:!0,force:!0})},"cleanDist"),{stringify:gD}=JSON,U=Ye({name:"pkgroll",version:Qe,flags:{src:{type:String,description:"Source directory",default:"./src"},dist:{type:String,description:"Distribution directory",default:"./dist"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[u=>{const[e,t]=u.split("=");return{key:e,value:t}}],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"},sourcemap:{type:u=>{if(u==="")return!0;if(u==="inline")return u;throw new Error(`Invalid sourcemap option ${gD(u)}`)},description:"Sourcemap generation. Provide `inline` option for inline sourcemap (eg. --sourcemap, --sourcemap=inline)"},cleanDist:{type:Boolean,description:"Clean dist before bundling",default:!1}},help:{description:"Minimalistic package bundler",render:(u,e)=>(e.flagOperator=t=>t.name==="env"?".key=":" ",e.render(u))}}),hD=process.cwd(),mD=X(U.flags.src,!0),K=X(U.flags.dist,!0),BD=lD?.config.compilerOptions?.target;BD&&U.flags.target.push(BD),(async()=>{const u=await Xe(hD);let e=Dt(u);if(e=e.filter(n=>{const r=n.outputPath.startsWith(K);return r||console.warn(`Ignoring entry outside of ${K} directory: package.json#${n.from}=${gD(n.outputPath)}`),r}),e.length===0)throw new Error("No export entries found in package.json");const t=await Promise.all(e.map(async n=>({...await ot(n,mD,K),exportEntry:n}))),D=await It(X(j.realpathSync.native(mD),!0),K,t,U.flags,et(u,hD),u);U.flags.cleanDist&&await Mt(K),U.flags.watch?(eu("Watch initialized"),Object.values(D).map(async n=>{wu.watch(n).on("event",async o=>{o.code==="BUNDLE_START"&&eu("Building",...Array.isArray(o.input)?o.input:[o.input]),o.code==="BUNDLE_END"&&(await Promise.all(n.output.map(s=>o.result.write(s))),eu("Built",...Array.isArray(o.input)?o.input:[o.input])),o.code==="ERROR"&&eu("Error:",o.error.message)})})):await Promise.all(Object.values(D).map(async n=>{const r=await wu.rollup(n);return Promise.all(n.output.map(o=>r.write(o)))}))})().catch(u=>{console.error(u),process.exit(1)});
